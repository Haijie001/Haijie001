{"ast":null,"code":"// 定义 FakeStoreApi 对象，包含三个用于获取产品数据的异步方法\nconst FakeStoreApi = {\n  // fetchAllProducts 方法：从 API 获取所有产品数据\n  fetchAllProducts: async () => {\n    const res = await fetch('https://fakestoreapi.com/products'); // 通过 fetch 请求从指定的 API 获取所有产品数据\n\n    const result = await res.json(); // 将响应结果转换为 JSON 格式\n    // 为每个产品添加一个 discount 字段，假设折扣为 10%\n\n    return result.map(product => ({ ...product,\n      discount: product.price * 0.9 // 计算折扣价格，这里假设是原价的 90%\n\n    }));\n  },\n  // fetchProductById 方法：根据产品 ID 获取单个产品的数据\n  fetchProductById: async productId => {\n    const res = await fetch(`https://fakestoreapi.com/products/${productId}`); // 根据产品 ID 向 API 发送请求获取特定产品的数据\n\n    const result = await res.json(); // 将响应结果转换为 JSON 格式\n    // 为单个产品添加一个 discount 字段\n\n    return { ...result,\n      discount: result.price * 0.9 // 计算折扣价格\n\n    };\n  },\n  // fetchProductsBySearchQuery 方法：根据查询关键字搜索产品\n  fetchProductsBySearchQuery: async query => {\n    const res = await fetch(\"https://fakestoreapi.com/products\"); // 发送请求获取所有产品数据\n\n    const result = await res.json(); // 将响应结果转换为 JSON 格式\n    // 使用 filter 方法筛选出标题中包含搜索关键字的产品，并将搜索关键字转换为小写以实现大小写不敏感的搜索\n\n    return result.filter(product => product.title.toLowerCase().includes(query)).map(product => ({ ...product,\n      discount: product.price * 0.9 // 添加折扣价格\n\n    }));\n  }\n};\nexport { FakeStoreApi }; // 导出 FakeStoreApi 对象","map":{"version":3,"names":["FakeStoreApi","fetchAllProducts","res","fetch","result","json","map","product","discount","price","fetchProductById","productId","fetchProductsBySearchQuery","query","filter","title","toLowerCase","includes"],"sources":["D:/斑马/前端ts/电商网站/ecommerce-webapp/src/services/fake-store-api.js"],"sourcesContent":["// 定义 FakeStoreApi 对象，包含三个用于获取产品数据的异步方法\nconst FakeStoreApi = {\n    // fetchAllProducts 方法：从 API 获取所有产品数据\n    fetchAllProducts: async () => {\n        const res = await fetch('https://fakestoreapi.com/products'); // 通过 fetch 请求从指定的 API 获取所有产品数据\n        const result = await res.json(); // 将响应结果转换为 JSON 格式\n\n        // 为每个产品添加一个 discount 字段，假设折扣为 10%\n        return result.map(product => ({\n            ...product,\n            discount: product.price * 0.9 // 计算折扣价格，这里假设是原价的 90%\n        }));\n    },\n\n    // fetchProductById 方法：根据产品 ID 获取单个产品的数据\n    fetchProductById: async (productId) => {\n        const res = await fetch(`https://fakestoreapi.com/products/${productId}`); // 根据产品 ID 向 API 发送请求获取特定产品的数据\n        const result = await res.json(); // 将响应结果转换为 JSON 格式\n        \n        // 为单个产品添加一个 discount 字段\n        return {\n            ...result,\n            discount: result.price * 0.9 // 计算折扣价格\n        };\n    },\n\n    // fetchProductsBySearchQuery 方法：根据查询关键字搜索产品\n    fetchProductsBySearchQuery: async (query) => {\n        const res = await fetch(\"https://fakestoreapi.com/products\"); // 发送请求获取所有产品数据\n        const result = await res.json(); // 将响应结果转换为 JSON 格式\n        \n        // 使用 filter 方法筛选出标题中包含搜索关键字的产品，并将搜索关键字转换为小写以实现大小写不敏感的搜索\n        return result\n            .filter(product => product.title.toLowerCase().includes(query))\n            .map(product => ({\n                ...product,\n                discount: product.price * 0.9 // 添加折扣价格\n            }));\n    },\n}\n\nexport { FakeStoreApi } // 导出 FakeStoreApi 对象"],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAG;EACjB;EACAC,gBAAgB,EAAE,YAAY;IAC1B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,mCAAD,CAAvB,CAD0B,CACoC;;IAC9D,MAAMC,MAAM,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAArB,CAF0B,CAEO;IAEjC;;IACA,OAAOD,MAAM,CAACE,GAAP,CAAWC,OAAO,KAAK,EAC1B,GAAGA,OADuB;MAE1BC,QAAQ,EAAED,OAAO,CAACE,KAAR,GAAgB,GAFA,CAEI;;IAFJ,CAAL,CAAlB,CAAP;EAIH,CAXgB;EAajB;EACAC,gBAAgB,EAAE,MAAOC,SAAP,IAAqB;IACnC,MAAMT,GAAG,GAAG,MAAMC,KAAK,CAAE,qCAAoCQ,SAAU,EAAhD,CAAvB,CADmC,CACwC;;IAC3E,MAAMP,MAAM,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAArB,CAFmC,CAEF;IAEjC;;IACA,OAAO,EACH,GAAGD,MADA;MAEHI,QAAQ,EAAEJ,MAAM,CAACK,KAAP,GAAe,GAFtB,CAE0B;;IAF1B,CAAP;EAIH,CAvBgB;EAyBjB;EACAG,0BAA0B,EAAE,MAAOC,KAAP,IAAiB;IACzC,MAAMX,GAAG,GAAG,MAAMC,KAAK,CAAC,mCAAD,CAAvB,CADyC,CACqB;;IAC9D,MAAMC,MAAM,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAArB,CAFyC,CAER;IAEjC;;IACA,OAAOD,MAAM,CACRU,MADE,CACKP,OAAO,IAAIA,OAAO,CAACQ,KAAR,CAAcC,WAAd,GAA4BC,QAA5B,CAAqCJ,KAArC,CADhB,EAEFP,GAFE,CAEEC,OAAO,KAAK,EACb,GAAGA,OADU;MAEbC,QAAQ,EAAED,OAAO,CAACE,KAAR,GAAgB,GAFb,CAEiB;;IAFjB,CAAL,CAFT,CAAP;EAMH;AArCgB,CAArB;AAwCA,SAAST,YAAT,G,CAAwB"},"metadata":{},"sourceType":"module"}